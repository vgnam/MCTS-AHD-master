import math
    probabilities = []
    total = 0.0
    for node in unvisited_nodes:
        score = math.exp(-heuristic(node) / temperature)
        probabilities.append(score)
        total += score
    probabilities = [p / total for p in probabilities]

    import random
    next_node = random.choices(unvisited_nodes, weights=probabilities, k=1)[0]
    return next_node
